---
layout: default
---
<div class="essay-container">
    <article class="essay-content">
        <header class="post-header">
            <h1>{{ page.title }}</h1>
            <div class="post-metadata">
                <time datetime="{{ page.date | date_to_xmlschema }}" class="post-date">
                    {{ page.date | date: "%B %d, %Y" }}
                </time>
                {% if page.tags %}
                <div class="post-tags">
                    {% for tag in page.tags %}
                    <span class="tag">{{ tag }}</span>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
        </header>

        <div class="post-content">
            {%- capture post_content -%}
                {{ content | replace: '[[', '<span class="sidenote-anchor">' | replace: ']]', '</span>' }}
            {%- endcapture -%}
            {{ post_content | markdownify }}
        </div>

        <footer class="post-footer">
            <div class="post-navigation">
                {% if page.previous %}
                <a href="{{ page.previous.url }}" class="prev-post">
                    ← {{ page.previous.title }}
                </a>
                {% endif %}
                
                {% if page.next %}
                <a href="{{ page.next.url }}" class="next-post">
                    {{ page.next.title }} →
                </a>
                {% endif %}
            </div>
        </footer>
    </article>

    <div class="sidenotes">
        <!-- Sidenotes will be moved here by JavaScript -->
    </div>
</div>

<script src="{{ '/assets/js/sidenotes.js' | relative_url }}"></script>

<style>
.rpg-post {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem 1rem;
}

.post-header {
    margin-bottom: 2rem;
}

.post-header h1 {
    margin-bottom: 0.5rem;
}

.post-metadata {
    display: flex;
    gap: 1rem;
    align-items: center;
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.post-tags {
    display: flex;
    gap: 0.5rem;
}

.tag {
    padding: 0.2rem 0.5rem;
    background: var(--bg-secondary);
    border-radius: 4px;
    font-size: 0.8rem;
}

.post-content {
    line-height: 1.6;
}

.post-content h1, 
.post-content h2, 
.post-content h3 {
    margin-top: 2rem;
    margin-bottom: 1rem;
}

.post-content p {
    margin-bottom: 1.5rem;
}

.post-footer {
    margin-top: 4rem;
    padding-top: 2rem;
    border-top: 1px solid var(--border-color);
}

.post-navigation {
    display: flex;
    justify-content: space-between;
    margin-top: 2rem;
}

.prev-post,
.next-post {
    color: var(--text-secondary);
    text-decoration: none;
}

.prev-post:hover,
.next-post:hover {
    color: var(--text-primary);
}

.related-posts {
    margin-bottom: 2rem;
}

.related-posts ul {
    list-style: none;
    padding: 0;
}

.related-posts li {
    margin-bottom: 0.5rem;
}
</style>
